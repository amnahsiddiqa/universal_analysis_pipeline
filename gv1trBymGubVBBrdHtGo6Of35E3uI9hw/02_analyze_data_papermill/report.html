---
title: The second notebook
params:
  input_file: NULL
---

First section
=============

Load some packages, do some analysis, generate some plots…

.. code:: ipython3

    import matplotlib.pyplot as plt
    import pandas as pd

Get parameters from papermill/knitr
-----------------------------------

The following setup allows to run the parametrized report with both
rmarkdown and papermill:

-  We first try to get the results ``r.params`` through reticulate.
   (default parameters are defined in the YAML header)
-  If that fails, we use the papermill notation to define default
   parameters.
-  the cell needs to be tagged with ``parameters`` (see metadata)

.. code:: ipython3

    # get default parameters. Either papermill or rmarkdown way.
    try:
        input_file = r.params["input_file"]
    except:
        print("Could not access params from `r` object. Don't worry if your are running papermill. ")
        input_file = "../results/01_generate_data/iris.tsv"


.. parsed-literal::

    Could not access params from `r` object. Don't worry if your are running papermill. 


.. code:: ipython3

    # Parameters
    input_file = "iris.tsv"


Second section
==============

The following code block is shows both code and results.
--------------------------------------------------------

.. code:: ipython3

    # TEST: ECHO_TRUE_01
    print("TEST: " + "_".join(("RESULTS", "SHOW", "01")))


.. parsed-literal::

    TEST: RESULTS_SHOW_01


The following code block is hidden (code and results).
------------------------------------------------------

Define a function to compute the fibonacci sequence.

The following code block is hidden (hide code, show results).
-------------------------------------------------------------

Show the first 10 fibonacci numbers:


.. parsed-literal::

    TEST: RESULTS_SHOW_02
    The 0th Fibonacci number is 0
    The 1th Fibonacci number is 1
    The 2th Fibonacci number is 1
    The 3th Fibonacci number is 2
    The 4th Fibonacci number is 3
    The 5th Fibonacci number is 5
    The 6th Fibonacci number is 8
    The 7th Fibonacci number is 13
    The 8th Fibonacci number is 21
    The 9th Fibonacci number is 34




.. parsed-literal::

    [<matplotlib.lines.Line2D at 0x7f8b953b57b8>]




.. image:: output_11_2.png


The following code block suppresses the results:
------------------------------------------------

.. code:: ipython3

    # TEST: ECHO_TRUE_02
    print("TEST: " + "_".join(("RESULTS", "HIDE")))
    for i in range(10):
        print("The {i}th Fibonacci number is {f}".format(i=i, f=fib(i)))
    
    plt.plot(range(10), [fib(x) for x in range(10)])

Summary
=======

Every notebook should hava summary section that’s understandable by
biologists. Include the ‘highlights’ here and repeat the corresponding
figures.



.. image:: output_15_0.png

